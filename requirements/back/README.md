# Требования по направлению `Backend разработка`

В качестве входного испытания ставится задача написать сервер, который будет отвечать на запросы по протоколу HTTP. Передача данных должна осуществляться при помощи формата JSON.

## Задание

Необходимо создать сервис контроля за покупками. Необходима возможность сохранять информацию о покупках человека, создавать категории и тд. Подробнее требования будут описаны ниже.
## Общие критерии

### Технологии

Сегодня в лаборатории для написания Backend сервисов используются следующие технологии:

Backend:
- [ASP.NET Core](https://dotnet.microsoft.com/learn/aspnet/what-is-aspnet-core)
- [Go (Gorilla, mux)](https://github.com/gorilla/mux)
- [Spring Boot](https://spring.io/projects/spring-boot)
- [Node.JS (Express)](https://nodejs.org/en/)
- [!!!!!!Flask!!!!!](!!!!!!!!!!)

Database:
- [PostgreSQL](https://www.postgresql.org/)
- [MongoDB](https://www.mongodb.com/)
- [SQLite](https://www.sqlite.org/index.html)
- [MySQL](https://www.mysql.com/)

Cache:
- [Redis](https://redis.io/)

Message broker:
- [RabbitMQ](https://www.rabbitmq.com/)

_Желательно_ реализовывать проект с использованием технологий, описанных выше, за счет простоты дальнейшего встраивания в рабочй процесс. Но в рамках тестового задания **жестких ограничений на используемый стек нет**.

## Окружение

**Обязательной** является возможность запуска вашего проекта в [Docker](https://www.docker.com/) среде, ввиду того, что сегодня как в лаборатории так и мире эта технология крайне популярна.

Идеальным вариантом является оборачивание собранного сервиса в контейнер, и использование инструмента `docker-compose` для управления сервисами/зависимостями, такими как база данных.

Образы приложений необходимо отправить в личный [`!!!!!!!!` docker hub`!!!!!!!!` ](`!!!!!!!!`).
Весь сервис должен быть работоспособен, и подниматься **единственной** командой 
```bash
docker-compose up -d
```
## Документация API

**Все** запросы к серверу должны выдавать как результат сообщения в формате JSON. 

То, какие маршруты у приложения существуют, какие параметры принимают, что возвращают, какие коды отдают - все это **необходимо** задокументировать.

Можно создать в репозитории отдельный файл `API_DOC.md`, и в нем описать все возможные маршруты/форматы данных, или воспользоваться инструментов [Swagger](https://swagger.io/) и [OpenAPI](https://swagger.io/specification/). Второй вариант является приоритетным, он является де факто стандартом описания HTTP сервисов, и может быть сгенерирован автоматически на основе написанного кода.

## Тестирование

_Желательным_ является наличие тестов для вашего сервиса. Речь идет как о Unit тестах так и о E2E тестах. Для последних в лаборатории применяется инструмент [`!!!!!!!!` Karate`!!!!!!!!` ](`!!!!!!!!`). При отсутствии опыта работы с этой технологией предлагается применять тестирование в [`!!!!!!!!`Postman`!!!!!!!!` ](`!!!!!!!!`). Данные два примера даны для _ознакомления_, выбор технологии тестирования остается за автором решения.
## REST

<!-- _Желательно_ придерживаться подхода к проектированию API -->

## Хранение данных
**Не приемлемо** хранение данных в памяти приложения. Необходима полноценная отдельная база данных, начиная с SQLite. !!!!!! In memory хранилища(например Redis) относятся в данном контексте к _полноценным базам данных_.

Как описано выше - необходимо настроить окружение так, чтобы все дополнительные сервисы запускались в docker-compose. Вам необходимо проработать механизм автоматического применения миграций при старте приложения. Разумеется, если таковые имеются в вашем проекте.

### Уровень 1

Необходим сервис, который может хранить данные о покупках одного человека. О покупке необходимо хранить следующую информацию:

- Дата покупки
- Название товара
- Сумму, потраченную на товар


### Уровень 2

Категории покупок, предустановленные + формируемые пользователем.

Необходимо реализовать способ оплаты, наличные, карта, перевод на карту. Разумеется при создании покупок необходимо передавать информацию о том, каким именно образом была произведена оплата.

Формирование отчетов за промежуток времени по:
- Категориям
- Времени покупки в течении дня
- Сумме трат по дням недели
- Сумме трат

### Уровень 3

Совместная работа нескольких сервисов, прокси перед ними. например nginx или какой-то api gateway.

